"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[677],{2677:function(o,e,i){i.r(e),i.d(e,{default:function(){return y}});var n=i(9439),t=i(2791),r={wrapper:"Profile_wrapper__p5VrH",photo:"Profile_photo__vdZH8",info:"Profile_info__Vci11",description:"Profile_description__WYmjn",avatar:"Profile_avatar__YVqzY",container:"Profile_container__56z6O",pencil:"Profile_pencil__aPzX3",inputFile:"Profile_inputFile__JF4Ga",edit:"Profile_edit__bwzCR",posts:"Profile_posts__aiWvK",postsButton:"Profile_postsButton__fwxLC",area:"Profile_area__4mSAZ"},s=i(6030),a=i(9271),l=i(292),c=i(184),u=function(o){var e=(0,t.useState)(!1),i=(0,n.Z)(e,2),s=i[0],a=i[1],u=(0,t.useState)(""),d=(0,n.Z)(u,2),f=d[0],p=d[1];return(0,c.jsx)("div",{className:r.editField,children:s?(0,c.jsx)(l.Z,{onBlur:function(){a(!1),o.changeEditSpan(f)},onChange:function(o){p(o.currentTarget.value)},value:f,autoFocus:!0,color:"primary",inputProps:{style:{color:"rgb(17,193,253)"}}}):(0,c.jsx)("span",{onDoubleClick:function(){p(o.title),a(!0)},children:o.title})})},d=i(3692),f=function(o){var e=(0,s.v9)((function(o){return o.profile}));return(0,c.jsx)("div",{children:o.text.map((function(o,i){return(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:r.avatar,children:[(0,c.jsx)("img",{src:e.profile.photos.small,alt:"avatar1"}),(0,c.jsx)("span",{children:o.message})]})},i)}))})},p=function(o){return(0,c.jsx)("div",{className:r.postsButton,children:(0,c.jsx)("button",{onClick:o.onChangePost,children:o.title})})},h=function(){var o=(0,s.I0)(),e=(0,s.v9)((function(o){return o.profile})).posts,i=(0,t.useState)(""),a=(0,n.Z)(i,2),l=a[0],u=a[1],h=(0,t.useState)(!1),x=(0,n.Z)(h,2),j=x[0],m=x[1];return(0,c.jsxs)("div",{className:r.posts,children:[(0,c.jsxs)("h1",{onClick:function(){return m(!j)},children:["My posts ",j?"\ud83d\udc46":"\ud83d\udc47"]}),j&&(0,c.jsx)(f,{text:e}),(0,c.jsxs)("div",{className:r.area,children:[(0,c.jsx)("textarea",{value:l,onChange:function(o){u(o.currentTarget.value)},placeholder:"Enter new post"}),(0,c.jsx)(p,{title:"Send",onChangePost:function(){o((0,d.Pi)(l)),u("")}})]})]})},x=function(o){var e=(0,s.v9)((function(o){return o.auth.isAuth})),i=(0,s.v9)((function(o){return o.auth.authData.id})),n=(0,s.v9)((function(o){return o.profile})),l=n.status,f=(0,s.I0)();(0,t.useEffect)((function(){f((0,d.wQ)(i)),f((0,d.GP)(i))}),[]);return e?(0,c.jsxs)("div",{className:o.mode?r.wrapper:r.edit,children:[(0,c.jsxs)("div",{className:r.photo,children:[(0,c.jsx)("img",{src:n.profile.photos.large,alt:"photo"}),(0,c.jsx)("div",{children:(0,c.jsx)(u,{title:l,changeEditSpan:function(o){f((0,d.js)(o))}})})]}),(0,c.jsxs)("div",{className:r.container,children:[(0,c.jsx)("input",{className:r.inputFile,type:"file",onChange:function(o){return function(o){var e;null!==(e=o.target.files)&&void 0!==e&&e.length&&f((0,d.Xw)(o.target.files[0]))}(o)}}),(0,c.jsx)("span",{className:r.pencil,children:"edit"})]}),(0,c.jsxs)("div",{className:r.info,children:[(0,c.jsxs)("div",{className:r.description,children:[(0,c.jsxs)("div",{children:["About me: ",n.profile.aboutMe]}),(0,c.jsxs)("div",{children:["Looking for a job: ",n.profile.lookingForAJob?"Yes":"No"]}),(0,c.jsxs)("div",{children:["Looking for a job description: ",n.profile.lookingForAJobDescription]}),(0,c.jsxs)("div",{children:["Contacts:",(0,c.jsxs)("div",{children:[(0,c.jsx)("a",{href:"".concat(n.profile.contacts.github),children:"GitHub"}),(0,c.jsx)("a",{href:"".concat(n.profile.contacts.instagram),children:"Instagram"})]})]}),(0,c.jsx)("button",{onClick:o.changeProfile,children:"\u270f\ufe0f"})]}),(0,c.jsx)(h,{})]})]}):(0,c.jsx)(a.l_,{to:"/login"})},j=i(1413),m=i(1889),b=i(3299),g=i(9012),v=i(9641),_=i(9174),k=i(3062),F=i(4294),P=i(5705),Z=function(o){var e=(0,s.I0)(),i=(0,s.v9)((function(o){return o.profile})),n=(0,s.v9)((function(o){return o.auth.authData.id})),t=(0,P.TA)({initialValues:{aboutMe:i.profile.aboutMe,userId:n,lookingForAJob:i.profile.lookingForAJob,lookingForAJobDescription:i.profile.lookingForAJobDescription,fullName:i.profile.fullName,contacts:{github:i.profile.contacts.github,vk:i.profile.contacts.vk,facebook:i.profile.contacts.facebook,instagram:i.profile.contacts.instagram,twitter:i.profile.contacts.twitter,website:i.profile.contacts.website,youtube:i.profile.contacts.youtube,mainLink:i.profile.contacts.mainLink}},onSubmit:function(i){e((0,d.X2)(i)),o.closeForm()}});return(0,c.jsx)(m.ZP,{container:!0,justifyContent:"center",style:{position:"absolute",zIndex:"999",marginTop:"10px"},children:(0,c.jsx)(m.ZP,{item:!0,justifyContent:"center",children:(0,c.jsx)("form",{onSubmit:t.handleSubmit,children:(0,c.jsx)(b.Z,{children:(0,c.jsxs)(g.Z,{children:[(0,c.jsx)(v.Z,{label:"Looking for a job",control:(0,c.jsx)(_.Z,(0,j.Z)({checked:t.values.lookingForAJob},t.getFieldProps("lookingForAJob")))}),(0,c.jsx)(k.Z,(0,j.Z)({type:"lookingForAJobDescription",label:"Looking for a job description",margin:"normal"},t.getFieldProps("lookingForAJobDescription"))),t.touched.lookingForAJobDescription&&t.errors.lookingForAJobDescription&&(0,c.jsx)("div",{style:{color:"red"},children:t.errors.lookingForAJobDescription}),(0,c.jsx)(k.Z,(0,j.Z)({type:"aboutme",label:"About Me",margin:"normal"},t.getFieldProps("aboutMe"))),t.touched.lookingForAJobDescription&&t.errors.aboutMe&&(0,c.jsx)("div",{style:{color:"red"},children:t.errors.aboutMe}),(0,c.jsx)(F.Z,{type:"submit",variant:"contained",color:"primary",style:{marginBottom:"10px"},children:"Submit"}),(0,c.jsx)(F.Z,{variant:"contained",color:"primary",style:{marginTop:"10px"},onClick:function(){o.closeForm()},children:"Exit"})]})})})})})},y=function(){var o=(0,t.useState)(!0),e=(0,n.Z)(o,2),i=e[0],s=e[1];return(0,c.jsxs)("div",{children:[!i&&(0,c.jsx)("div",{className:r.form,children:(0,c.jsx)(Z,{closeForm:function(){s(!0)}})}),(0,c.jsx)(x,{mode:i,changeProfile:function(){s(!1)}})]})}}}]);
//# sourceMappingURL=677.853ef039.chunk.js.map